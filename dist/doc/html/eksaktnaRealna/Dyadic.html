<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Dyadic</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Dyadic.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">eksaktnaRealna-0.1.0.0: Exact real arithmetics</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Dyadic</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains a purely Haskell implementation of dyadic rationals, suitable
   for interval arithmetic. A faster implementation of dyadic rationals would use
   a fast arbitrary-precision floating-point library, such as MPFR and the related
   hmpfr Haskell bindings for it.</p><p>A dyadic number is a rational whose denominator is a power of 2. We also include
   positive and negative infinity, these are useful for representing infinite intervals.
   The special value <code><a href="Dyadic.html#v:NaN">NaN</a></code> (not a number) is included as well in order to follow more closely
   the usual floating-point format, but is not used in the interval computations because
   there we use [-inf, +inf] to represent the completely undefined value.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> q, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> q) =&gt; <a href="#t:ApproximateField">ApproximateField</a> q <span class="keyword">where</span><ul class="subs"><li><a href="#v:normalize">normalize</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</li><li><a href="#v:size">size</a> :: q -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></li><li><a href="#v:log2">log2</a> :: q -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></li><li><a href="#v:midpoint">midpoint</a> :: q -&gt; q -&gt; q</li><li><a href="#v:zero">zero</a> :: q</li><li><a href="#v:positive_inf">positive_inf</a> :: q</li><li><a href="#v:negative_inf">negative_inf</a> :: q</li><li><a href="#v:toFloat">toFloat</a> :: q -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a></li><li><a href="#v:toRational-39-">toRational'</a> :: q -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Rational">Rational</a></li><li><a href="#v:app_add">app_add</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q -&gt; q</li><li><a href="#v:app_sub">app_sub</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q -&gt; q</li><li><a href="#v:app_mul">app_mul</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q -&gt; q</li><li><a href="#v:app_inv">app_inv</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</li><li><a href="#v:app_div">app_div</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q -&gt; q</li><li><a href="#v:app_negate">app_negate</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</li><li><a href="#v:app_abs">app_abs</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</li><li><a href="#v:app_signum">app_signum</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</li><li><a href="#v:app_fromInteger">app_fromInteger</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; q</li><li><a href="#v:app_fromInteger_ws">app_fromInteger_ws</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; q</li><li><a href="#v:app_shift">app_shift</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; q</li><li><a href="#v:app_fromRational">app_fromRational</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Rational">Rational</a> -&gt; q</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Dyadic">Dyadic</a><ul class="subs"><li>= <a href="#v:Dyadic">Dyadic</a> { <ul class="subs"><li><a href="#v:mant">mant</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></li><li><a href="#v:expo">expo</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></li></ul> }</li><li>| <a href="#v:PositiveInfinity">PositiveInfinity</a></li><li>| <a href="#v:NegativeInfinity">NegativeInfinity</a></li><li>| <a href="#v:NaN">NaN</a></li></ul></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> (<a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> q, <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> q) =&gt; <a name="t:ApproximateField" class="def">ApproximateField</a> q <span class="keyword">where</span></p><div class="doc"><p>An approximate field is a structure in which we can perform approximate
arithmetical operations. The typical example is the ring of dyadic rational
numbers: division of dyadic rationals is only approximate, and even though the
other operations (+, -, *) can be peformed exactly, it is too expensive and
unecessary to do so in an interval computation. Therefore, we want approximate
versions of all operations.</p><p>The approximate operations take a <code><a href="Staged.html#t:Stage">Stage</a></code> argument which tells whether the
result of the operation should be rounded up or down, in the sense of the
linear ordering of the structure, and how precise the result should be.</p><p>(Missing explanation of what exactly an approximate field is supposed to be.)</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Dyadic.html#v:normalize">normalize</a>, <a href="Dyadic.html#v:size">size</a>, <a href="Dyadic.html#v:log2">log2</a>, <a href="Dyadic.html#v:midpoint">midpoint</a>, <a href="Dyadic.html#v:zero">zero</a>, <a href="Dyadic.html#v:positive_inf">positive_inf</a>, <a href="Dyadic.html#v:negative_inf">negative_inf</a>, <a href="Dyadic.html#v:toFloat">toFloat</a>, <a href="Dyadic.html#v:toRational-39-">toRational'</a>, <a href="Dyadic.html#v:app_add">app_add</a>, <a href="Dyadic.html#v:app_sub">app_sub</a>, <a href="Dyadic.html#v:app_mul">app_mul</a>, <a href="Dyadic.html#v:app_inv">app_inv</a>, <a href="Dyadic.html#v:app_div">app_div</a>, <a href="Dyadic.html#v:app_negate">app_negate</a>, <a href="Dyadic.html#v:app_abs">app_abs</a>, <a href="Dyadic.html#v:app_signum">app_signum</a>, <a href="Dyadic.html#v:app_fromInteger">app_fromInteger</a>, <a href="Dyadic.html#v:app_fromInteger_ws">app_fromInteger_ws</a>, <a href="Dyadic.html#v:app_shift">app_shift</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:normalize" class="def">normalize</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</p><p class="src"><a name="v:size" class="def">size</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: q</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>the size of the number (memory usage)</p></td></tr></table></div><p class="src"><a name="v:log2" class="def">log2</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: q</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p><code>log2 q</code> is a number <code>k</code> such that <code>2^k &lt;= abs q &lt;= 2^(k+1)</code>.</p></td></tr></table></div><p class="src"><a name="v:midpoint" class="def">midpoint</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: q</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; q</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; q</td><td class="doc"><p>exact midpoint</p></td></tr></table></div><p class="src"><a name="v:zero" class="def">zero</a> :: q</p><p class="src"><a name="v:positive_inf" class="def">positive_inf</a> :: q</p><p class="src"><a name="v:negative_inf" class="def">negative_inf</a> :: q</p><p class="src"><a name="v:toFloat" class="def">toFloat</a> :: q -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a></p><p class="src"><a name="v:toRational-39-" class="def">toRational'</a> :: q -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Rational">Rational</a></p><p class="src"><a name="v:app_add" class="def">app_add</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q -&gt; q</p><p class="src"><a name="v:app_sub" class="def">app_sub</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q -&gt; q</p><p class="src"><a name="v:app_mul" class="def">app_mul</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q -&gt; q</p><p class="src"><a name="v:app_inv" class="def">app_inv</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</p><p class="src"><a name="v:app_div" class="def">app_div</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q -&gt; q</p><p class="src"><a name="v:app_negate" class="def">app_negate</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</p><p class="src"><a name="v:app_abs" class="def">app_abs</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</p><p class="src"><a name="v:app_signum" class="def">app_signum</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; q -&gt; q</p><p class="src"><a name="v:app_fromInteger" class="def">app_fromInteger</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; q</p><p class="src"><a name="v:app_fromInteger_ws" class="def">app_fromInteger_ws</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a> -&gt; q</p><p class="src"><a name="v:app_shift" class="def">app_shift</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Staged.html#t:Stage">Stage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; q</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; q</td><td class="doc"><p>shift by a power of 2</p></td></tr></table></div><p class="src"><a name="v:app_fromRational" class="def">app_fromRational</a> :: <a href="Staged.html#t:Stage">Stage</a> -&gt; <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Rational">Rational</a> -&gt; q</p></div><div class="subs instances"><p id="control.i:ApproximateField" class="caption collapser" onclick="toggleSection('i:ApproximateField')">Instances</p><div id="section.i:ApproximateField" class="show"><table><tr><td class="src"><a href="Dyadic.html#t:ApproximateField">ApproximateField</a> <a href="Dyadic.html#t:Dyadic">Dyadic</a></td><td class="doc"><p>Dyadics with normalization and rounding form an &quot;approximate&quot;
  field in which operations can be performed up to a given precision.</p><p>We take the easy route: first we perform an exact operation then we
  normalize the result. A better implementation would directly compute
  the approximation, but it's probably not worth doing this with
  Dyadics. If you want speed, use hmpfr, see
  <a href="http://hackage.haskell.org/package/hmpfr">http://hackage.haskell.org/package/hmpfr</a>.</p></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Dyadic" class="def">Dyadic</a></p><div class="doc"><p>A dyadic number is of the form <code>m * 2^e</code> where <code>m</code> is the <em>mantissa</em> and <code>e</code> is the <em>exponent</em>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Dyadic" class="def">Dyadic</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:mant" class="def">mant</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:expo" class="def">expo</a> :: <a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr><tr><td class="src"><a name="v:PositiveInfinity" class="def">PositiveInfinity</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NegativeInfinity" class="def">NegativeInfinity</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NaN" class="def">NaN</a></td><td class="doc"><p>not a number, result of undefined arithmetical operation</p></td></tr></table></div><div class="subs instances"><p id="control.i:Dyadic" class="caption collapser" onclick="toggleSection('i:Dyadic')">Instances</p><div id="section.i:Dyadic" class="show"><table><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Dyadic.html#t:Dyadic">Dyadic</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> <a href="Dyadic.html#t:Dyadic">Dyadic</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> <a href="Dyadic.html#t:Dyadic">Dyadic</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file://C:\Program Files\Haskell Platform\2014.2.0.0\lib/../doc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="Dyadic.html#t:Dyadic">Dyadic</a></td><td class="doc"><p>This should be improved so that dyadics are shown in the usual
 decimal notation. The trouble is: how many digits should we show?
 MPFR does something reasonable, maybe we can do the same thing
 here.</p></td></tr><tr><td class="src"><a href="Dyadic.html#t:ApproximateField">ApproximateField</a> <a href="Dyadic.html#t:Dyadic">Dyadic</a></td><td class="doc"><p>Dyadics with normalization and rounding form an &quot;approximate&quot;
  field in which operations can be performed up to a given precision.</p><p>We take the easy route: first we perform an exact operation then we
  normalize the result. A better implementation would directly compute
  the approximation, but it's probably not worth doing this with
  Dyadics. If you want speed, use hmpfr, see
  <a href="http://hackage.haskell.org/package/hmpfr">http://hackage.haskell.org/package/hmpfr</a>.</p></td></tr><tr><td class="src"><a href="Interval.html#t:IntervalDomain">IntervalDomain</a> <a href="Dyadic.html#t:Dyadic">Dyadic</a></td><td class="doc"><p>We define the a particular implementation of reals in terms of Dyadic numbers.</p></td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>